NEXTCLOUD_TRUSTED_DOMAINS=${DOMAIN}
NEXTCLOUD_ADMIN_USER=${NEXTCLOUD_ADMIN_USER}
NEXTCLOUD_ADMIN_PASSWORD=${NEXTCLOUD_ADMIN_PASSWORD}

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

DB_TYPE=pgsql
DB_HOST=db
DB_NAME=nextcloud
DB_USER=nextcloud
DB_PASSWORD=${POSTGRES_PASSWORD}

OVERWRITEPROTOCOL=https
OVERWRITEHOST=${DOMAIN}
OVERWRITECLIURL=https://${DOMAIN}

# High Performance Backend (NC32 improvements)
HPB=yes
HPB_HOST=signaling
HPB_BINDTEMPORARY=no
HPB_TICKET_SECRET=${HPB_STATIC_SECRET}
HPB_APISECRET=${HPB_API_SECRET}

# Talk configuration with NC32 enhancements
TALK_TURN_SERVERS=[{"server":"${TURN_EXTERNAL_IP}:3478","secret":"${TURN_SHARED_SECRET}","protocols":"udp,tcp"}]
TALK_STUN_SERVERS=["${TURN_EXTERNAL_IP}:3478"]
TALK_SIGNALING_SERVERS=[{"server":"https://${DOMAIN}/spreed","verify":true}]
TALK_WHITEBOARD_SERVER=https://${DOMAIN}/whiteboard

# Performance optimizations for NC32
MAINTENANCE_WINDOW_START=2
ENABLE_AVSCAN=0